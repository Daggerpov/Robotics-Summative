<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <meta name="author" content="Daniel Agapov">
        <title>Robotics Summative | Write-Up</title>
        <link rel="stylesheet" href="./css/write-up-style.css">
    </head>
    <body>
        <header>
            <div class="container">
                <div id="project">
                    <h1>Robotics Summative</h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="home.html">Home</a></li>
                        <li class = "current"><a href="write-up.html">Write-Up</a></li>
                        <li><a href="about-ravenscout.html">About RavenScout</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        
        
        <section id="main">
            <div class="container">
                <article id="main-column">
                    
                    <h1 class="page-title">Write-Up</h1>
                    <p>
                        For my summative write-up for the year 2020, I'll be going over 
                        the material in <a href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world"
                        >The Flask Mega-Tutorial</a>(Chapters 1-8). 
                    </p>
                    <p>Below are clickable links for you to jump straight to 
                        whichever chapter you're on in reading this write-up:</p>
                    <ul>
                        <li><a href="#chapter1">Chapter 1: Hello, World!</a></li>
                        <li>Chapter 2: Templates</li>
                        <li>Chapter 3: Web Forms</li>
                        <li>Chapter 4: Database</li>
                        <li>Chapter 5: User Logins</li>
                        <li>Chapter 6: Profile Page and Avatars</li>
                        <li>Chapter 7: Error Handling</li>
                        <li>Chapter 8: Followers</li>
                    </ul>
                </article>
                
                <section id="chapter1">
                    <h2><a name="chapter1">Chapter 1: Hello, World!</a></h2>
                    
                    <h3>Installing Python</h3>
                    <p>Firstly, you need to ensure that <i><b>Python</b></i> is installed onto your machine.
                        This can be done by visiting the <a href="https://www.python.org/">python.org</a> website.
                        Make sure to have it be at least Python3.6 or later, since older versions
                        aren't supported by Flask. Also, make sure that you select "add to PATH" upon 
                        installation. By installing Python, you also get pip, which will allow you to 
                        install modules/libraries directly from whatever terminal window you're using.
                        You can also use your terminal window to check if python is installed by typing 
                        in "python3", or "python" if that doesn't work. This'll display your current version
                        and enter you into the Python Interpreter, which will be used later for various
                        python commands, so remember how to access it.
                    </p>
                    
                    <h3>Installing flask</h3>
                    <p>Once Python is installed, along with pip, you can then use this command to install packages(like <b><i>Flask</i></b>).
                        <br><br><img src="./img/pip install package.jpg">
                    </p>
                    <p>If you're having issues with running this command later on, check to see if you are on 
                        the administrator's account, since it won't work on another user's account.
                    </p>
                    <p>In order to take care of issues such as having to maintain different versions of packages 
                        for different applications, Python uses the concept of <i><b>virtual environments</b></i>.
                        It is essentially a copy of the python interpreter. That is to say, that if you install
                        a package into this virtual environment, it'll remain local and not affect the rest of 
                        your system.
                    </p>
                    <p>An added benefit to virtual environments, is that they are owned by the user that created 
                        them. Which means, that if you faced the issue earlier of not being the administrator on 
                        your computer, you can run commands in here freely. 
                    </p>
                    <p>The first step to this is making a directory to have this virtual environment in.
                        <br><br><img src="./img/mkdir microblog.jpg">
                    </p>
                    <p>Then, you need to enter into the directory you've just made.
                        <br><br><img src="img/cd microblog.jpg">
                    </p>
                    <p>Now, you can make a new virtual environment, that'll be named "venv". The first word "venv"
                        is for the Python virtual environment package, while the second "venv" is for your 
                        virtual environment's name, which you can change if you'd like.
                        <br><br><img src="./img/python3 -m venv venv.jpg">
                    </p>
                    <p>Note that in some operating systems you may need to use "python" instead of "python3" in
                        the command above, since some installations use "python" for Python2.x releases and "python3" for the 3.x
                        releases, while others simply use "python" for the 3.x releases.
                    </p>
                    <p>Once you have your virtual environment created, you need to tell your system that you wish to use it. 
                        To activate your virtual environment you need to type this command on a UNIX(Mac or Linux) system:
                        <br><br><img src="./img/unix activation of venv.jpg">
                    </p>
                    <p>If you are using the Microsoft Windows command prompt window(like I am), the activation command is slightly different:
                        <br><br><img src="./img/windows activation.jpg">
                    </p>
                    <p>Once in your virtual environment, you can then use the "pip install (package-name)" command from 
                        earlier to install flask.
                        <br><br><img src="./img/pip install flask.jpg">
                    </p>
                    
                    <h3>A "Hello, World" Flask Application</h3>
                    <p>
                        The tutorial I followed for this website made various Python and HTML5 files/folders by using
                        the terminal and making directories instead of just doing it the easy way. I found that a much
                        simpler method of doing this was by just doing it all in your IDE(Integrated Development 
                        Environment), like Visual Studio Code. I'm assuming that anyone reading this uses this IDE, 
                        considering it's the one we use at robotics and is among the world's most popular IDEs. If 
                        you do choose to not use Visual Studio Code, just know that most of what I'm saying will apply
                        to any other IDE, or at least shouldn't be too difficult to figure out yourself. 
                    </p>
                    <p>So, let's get into setting up our first folder and Python file inside of it. Firstly, 
                        you want to open a new window of Visual Studio Code, click "File" -> "Open Folder"
                        <br><br><img src="./img/open folder.jpg">
                    </p>
                    <p>Then, navigate through to your folder called "microblog". If you aren't sure where this folder is, 
                        you can do a search or look at the file path from when you were doing commands in the terminal 
                        as shown below.
                        <br><br><img src="./img/microblog file path.jpg">
                    </p>
                    <p>Next, you just want to click "Select Folder". Once you have the folder open, you'll notice how the 
                        "venv" folder has already been made inside of your "microblog" folder. It contains all the things
                        you've installed into your virtual environment thus far. Now, you want to make a new folder at the
                        same 'level' as this folder. You do this by clicking on the button shown below to make a new folder 
                        directly inside the "microblog" one - make sure you haven't selected the "venv" folder and are 
                        just in the "microblog" folder. You're going to name this new folder "app". 
                        <br><br><img src="./img/app.jpg">
                    </p>
                    <p>Inside of the new app folder, you're going to make a new file by clicking on this button, and name it
                        "__init__.py". This'll let Visual Studio Code know about which kind of file it is by its file extension. 
                        This is ".py" in our case, which is short for Python. "__init__" signifies it as being the initialization file.
                        <br><br><img src="./img/__init__ creation.jpg">
                    </p>
                    <p>Now, we finally get to the fun part of making the website - coding it! Feel free to copy the code exactly to
                        follow along. Although, I would highly suggest typing it out yourself to get a feel for actually doing so, 
                        rather than copy-pasting it. 
                        <br><br><img src="./img/c1 init code p1.jpg">
                    </p>
                    <p>The Python script above instantiates the application object from the Flask class. The __name__ variable used as 
                        a parameter to the Flask class is a predefined variable in Python, which is set to the name of the module in which 
                        it's used. Later on, Flask will use the location of this module passed here as a starting point when it 
                        needs to load associated resources such as template files(HTML5 front-end files). We then import "routes" from the 
                        folder we made earlier called "app". In case you were curious, the reason as to why we're importing routes at the bottom, 
                        instead of at the top like usual, is because routes references the app variable created here in this file. You don't need
                        to worry about this too much for now, but just know that this is a little work-around for a common issue with Flask applications,
                        being that they mutually reference each other sometimes and can cause an error by doing so. However, as of now, the routes file 
                        has not yet been created. So, let's do that!
                    </p>
                    <p>Just like how you did it earlier, you're going to be making yet another python file inside of the "app" folder, name 
                        it "routes.py". Once you've done this, type this code into that file.
                        <br><br><img src="./img/routes.jpg"> 
                    </p>
                    <p>This file will be used to make various 'routes' to the URLs for the application, or its different 'pages'/'views'. 
                        The routes are the different URLs that the application implements. With the Flask web framework, handlers for the 
                        application routes are written as Python functions, called view functions. These functions are mapped(like a pointer)
                        to one or more route URLs so that Flask knows what to execute under that URL. 
                    </p>
                    <p>This view function is very simple, all it does when a user accesses this URL(either '/' or '/index') is return "Hello, World!"
                        The two @app.route lines above the function are what's known as decorators. They're not part of the flask framework, rather
                        they're built into Python, meaning you might see them elsewhere in other projects of yours later on. They essentially act
                        like modifiers for the function under them. This decorator take the URL as an argument inside of the brackets and associates 
                        it with the function. This means that when a user accesses either of the two URLs, the function below them will be executed. 
                        Most of the time, though, these functions only require one of these decorators in order to get called. It's just that whether
                        the user is on the default(blank or '/') URL, or on the '/index' URL, we want it to run that same function. 
                    </p>
                    <p>To finally get the application up and running on your browser, there is one more Python script you need to make. It should be 
                        made a top 'level' of all your files inside of microblog. Meaning, it is on the same 'level' as "app" or "venv". You do this 
                        by clicking on the new file button after having clicked on the microblog folder so that you make a file directly inside of
                        this folder. 
                        <img src="./img/microblog.jpg">
                    </p>
                    <p>This one line of code just imports the application instance from the app package. I know it can be a little confusing with having them 
                        as the same name, but to re-clarify: the first "app" is the variable in which we instantiated the app class object inside of, and the 
                        second "app" is the package class it's getting instantiated from in the app.py file. Feel free to change the variable name or importing 
                        the app package as a different name by doing the following: "import app as (new name for it)" as opposed to simply doing "import app" 
                        at the top of the "__init__.py" file.
                    </p>
                    <p>The last step before running your application on a localhost is setting up the FLASK_APP environment variable. On a windows machine,
                        you need to do this following command:
                        <img src="./img/set flask_app.jpg">
                    </p>
                    <p>On other machines, you need to type "export" instead of "set" like so:
                        <img src="./img/export flask_app.jpg">
                    </p>
                    <p>Get used to running this command in your virtual environment. You're going to have to do it every single time you re-launch your
                        terminal to run this application. Also, if you're running multiple flask applications, you're going to have to make sure you're 
                        in the right flask_app environment. This has caused a lot of frustration in the past for me, when I didn't realize I had actually
                        just been in the wrong flask_app environment. Save yourself the headache and always remember to do this when opening up the terminal 
                        for running your flask application. 
                    </p>
                    
                </section>
                
            </div>
        </section>
        
        
        <footer>
            <p>Made by: Daniel Agapov, rookie member of the LDHSS Robotics team(RoboRavens4783)   | 2020</p>
        </footer>
    </body>
</html>